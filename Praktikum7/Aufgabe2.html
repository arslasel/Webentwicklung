<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <script src="https://github.zhaw.ch/pages/bkrt/wbelabs/log.js"></script>
    <title>Aufgabe2</title>
</head>

<body>

    <h1>Aufgabe 2 JSON.parse</h1>
    <h2>Skript currentTemp.js</h2>
    <pre>
        <code class="language-javascript">
                var https = require('https');
                let city = process.argv.slice(2)[0]

                //The url we want is: 'www.random.org/integers/?num=1&min=1&max=10&col=1&base=10&format=plain&rnd=new'
                var options = {
                host: 'wttr.in',
                path: '/' + city + '?format=j1'
                };

                callback = function(response) {
                var str = '';

                //another chunk of data has been received, so append it to `str`
                response.on('data', function (chunk) {
                    str += chunk;
                });

                //the whole response has been received, so we just print it out here
                response.on('end', function () {
                    console.log(JSON.parse(str).current_condition[0].temp_C + 'Â°');
                });

                }

                https.get(options, callback);
        </code>
    </pre>
</body>

<script>
</script>
<script>hljs.highlightAll()</script>

</html>